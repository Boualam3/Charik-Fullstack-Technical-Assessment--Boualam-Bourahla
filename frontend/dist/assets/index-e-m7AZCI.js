import{r as f,j as e,T as n,I as b,a as j,S as x,b as p,L as d,B as v,u as y,c as S,d as k,e as u,l as L,t as c}from"./index-CltCmSCy.js";import{c as C,a as h,u as P,h as m,d as A,b as F,L as B,A as R,F as W,e as D}from"./FormHeader-CH6AKhnw.js";const I=({onSubmit:i,loading:l})=>{const[s,t]=f.useState({email:"",password:"",showPassword:!1}),o=C().shape({email:h().required("Email is required").email("Invalid email"),password:h().required("Password is required")}),g=()=>{t({...s,showPassword:!s.showPassword})},w=r=>{r.preventDefault()},a=P({enableReinitialize:!0,initialValues:{email:s.email,password:s.password},validationSchema:o,onSubmit:r=>{i(r)}});return e.jsxs("form",{noValidate:!0,autoComplete:"off",onSubmit:a.handleSubmit,className:"flex flex-col gap-5 justify-center w-full",children:[e.jsx(n,{autoFocus:!0,fullWidth:!0,id:"email",name:"email",label:"Email",value:s.email,onChange:r=>m(r,t),error:a.touched.email&&!!a.errors.email,helperText:a.touched.email&&a.errors.email}),e.jsx(n,{id:"password",name:"password",label:"Password",fullWidth:!0,value:s.password,onChange:r=>m(r,t),error:a.touched.password&&!!a.errors.password,helperText:a.touched.password&&a.errors.password,type:s.showPassword?"text":"password",InputProps:{endAdornment:e.jsx(b,{position:"end",children:e.jsx(j,{edge:"end",onClick:g,onMouseDown:w,"aria-label":"toggle password visibility",children:s.showPassword?e.jsx(A,{}):e.jsx(F,{})})})}}),e.jsx(x,{direction:"row",className:"mb-8",children:e.jsxs(p,{sx:{color:"#244051",fontWeight:"500"},children:["Forgot your password ?",e.jsx(d,{to:"/auth/password/forgot",style:{textDecoration:"none",color:"#e66d3d",marginLeft:"3px"},children:"Click here"})]})}),e.jsx(B,{fullWidth:!0,size:"large",variant:"contained",onClick:()=>{a.handleSubmit()},loading:l,sx:{backgroundColor:"#00658d",borderRadius:"9999px",color:"white",fontWeight:"bold"},children:"Login"}),e.jsx(d,{to:"/auth/signup",children:e.jsx(v,{fullWidth:!0,size:"large",variant:"outlined",className:"rounded-full hover:bg-[#00658d]/5",sx:{backgroundColor:"white",borderRadius:"9999px",color:"#00658d",fontWeight:"bold"},children:"Register now"})})]})},T=()=>{const i=y(),l=S(),{mutateAsync:s,isLoading:t}=k({mutationFn:D,onSuccess:async o=>{o&&(console.log("recieved data: ",o),l(L({profile:o.user,tokens:o.tokens,isAuthenticated:!0})),c.success("login successfully !"),i("/"))},onError(o){c.error(`${o}`)}});return e.jsxs(u,{className:"flex justify-between flex-col md:flex-row w-full h-full min-h-screen ",children:[e.jsx(R,{}),e.jsxs(u,{className:"w-full md:w-1/2 flex flex-col justify-center items-center lg:px-20 px-6 relative gap-8 pb-16 min-h-[100vh]",children:[e.jsx(W,{title:"Sign In",subtitle:"Access your account securely"}),e.jsx(I,{onSubmit:async o=>{await s(o)},loading:t}),e.jsx(x,{sx:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,bottom:10,textAlign:"center"},children:e.jsxs(p,{variant:"caption",sx:{color:"gray"},children:["All Rights Reserved Â©"," "+new Date().getFullYear()]})})]})]})};export{T as default};
