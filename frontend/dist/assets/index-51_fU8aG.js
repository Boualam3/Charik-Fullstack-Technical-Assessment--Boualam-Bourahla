import{r as F,j as e,T as i,I as w,a as x,S as g,F as S,C as R,b as u,L as p,u as q,d as L,e as h,t as j}from"./index-CltCmSCy.js";import{c as B,a as d,f as A,g as T,u as D,h as c,d as b,b as P,L as I,A as E,F as M,i as $}from"./FormHeader-CH6AKhnw.js";const W=({onSubmit:l,loading:m})=>{const[s,a]=F.useState({fullName:"",email:"",password:"",confirmPassword:"",showPassword:!1,agreement:!1,showConfirmPassword:!1}),C=B().shape({fullName:d().min(5,"Full name must be at least 5 characters long").required("Full Name is required"),email:d().required("Email is required").email("Email must be a valid email address"),password:d().min(6,"must be greater than 6 characters long").required("Password is required"),confirmPassword:d().oneOf([A("password")],"Passwords must match").min(6,"must be greater than 6 characters long").required("Confirm password is required"),agreement:T().oneOf([!0],"required").required("required")}),y=()=>{a({...s,showPassword:!s.showPassword})},N=()=>{a({...s,showConfirmPassword:!s.showConfirmPassword})},f=o=>{o.preventDefault()},v=(o,n)=>{const{checked:t}=o.target;a({...s,[n]:t}),r.setFieldValue(n,t)},r=D({enableReinitialize:!0,initialValues:{fullName:s.fullName,email:s.email,password:s.password,confirmPassword:s.confirmPassword,agreement:s.agreement},validationSchema:C,onSubmit:o=>{const{fullName:n,email:t,password:k}=o;l({full_name:n,email:t,password:k})}});return e.jsxs("form",{noValidate:!0,autoComplete:"off",onSubmit:r.handleSubmit,className:"flex flex-col gap-5 justify-center w-full md:space-y-3",children:[e.jsx(i,{autoFocus:!0,className:"flex-1",id:"fullName",name:"fullName",label:"Full Name",value:s.fullName,onChange:o=>c(o,a),error:r.touched.fullName&&!!r.errors.fullName,helperText:r.touched.fullName&&r.errors.fullName}),e.jsx(i,{fullWidth:!0,id:"email",name:"email",label:"Email",value:s.email,onChange:o=>c(o,a),error:r.touched.email&&!!r.errors.email,helperText:r.touched.email&&r.errors.email}),e.jsx(i,{id:"password",name:"password",label:"Password",fullWidth:!0,value:s.password,onChange:o=>c(o,a),error:r.touched.password&&!!r.errors.password,helperText:r.touched.password&&r.errors.password,type:s.showPassword?"text":"password",InputProps:{endAdornment:e.jsx(w,{position:"end",children:e.jsx(x,{edge:"end",onClick:y,onMouseDown:f,"aria-label":"toggle password visibility",children:s.showPassword?e.jsx(b,{}):e.jsx(P,{})})})}}),e.jsx(i,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",fullWidth:!0,value:s.confirmPassword,onChange:o=>c(o,a),error:r.touched.confirmPassword&&!!r.errors.confirmPassword,helperText:r.touched.confirmPassword&&r.errors.confirmPassword||"",type:s.showConfirmPassword?"text":"password",InputProps:{endAdornment:e.jsx(w,{position:"end",children:e.jsx(x,{edge:"end",onClick:N,onMouseDown:f,"aria-label":"toggle confirmPassword visibility",children:s.showConfirmPassword?e.jsx(b,{}):e.jsx(P,{})})})}}),e.jsxs(g,{direction:"row",className:"w-full flex justify-start items-center ",children:[e.jsx(S,{control:e.jsx(R,{checked:s.agreement,onChange:o=>v(o,"agreement"),sx:{color:"#244051","&.Mui-checked":{color:"#244051"}}}),label:""}),e.jsxs(u,{display:"inline",children:["I agrees to the",e.jsx(p,{to:"/auth/signin",style:{textDecoration:"underline",color:"#e66d3d",margin:"0 5px"},children:"terms and conditions"}),"."]}),r.errors.agreement&&e.jsx(u,{sx:{marginLeft:"5px"},variant:"body2",className:"text-xs ml-4",color:"error",children:r.errors.agreement})]}),e.jsx(I,{fullWidth:!0,size:"large",variant:"contained",onClick:()=>{r.handleSubmit()},loading:m,className:"rounded-full",sx:{backgroundColor:"#00658d",borderRadius:"9999px",color:"white",fontWeight:"bold"},children:"Register"}),e.jsx(g,{direction:"row",className:"mb-8 w-full flex justify-center ",children:e.jsxs(u,{children:["I already have an account?",e.jsx(p,{to:"/auth/signin",style:{textDecoration:"none",color:"#e66d3d",marginLeft:"5px"},children:"Login"})]})})]})},z=()=>{const l=q(),{mutateAsync:m,isLoading:s}=L({mutationFn:$,onSuccess:async a=>{a!=null&&a.success&&(l("/auth/signin"),j.success("Registered successfully !"))},onError(a){j.error(`${a}`)}});return e.jsxs(h,{className:"flex justify-between flex-col md:flex-row w-full h-screen ",children:[e.jsx(E,{}),e.jsxs(h,{className:"w-full md:w-1/2 flex flex-col h-full overflow-y-auto items-center lg:px-20 px-6 py-14 relative gap-6",children:[e.jsx(M,{title:"Sign Up",subtitle:"Registration process for user",onBack:()=>l(-1)}),e.jsx(W,{onSubmit:async a=>{await m(a)},loading:s}),e.jsx(h,{sx:{marginTop:"auto",marginLeft:"auto",marginRight:"auto",textAlign:"center"},children:e.jsxs(u,{variant:"caption",sx:{color:"gray"},children:["All Rights Reserved Â©"," "+new Date().getFullYear()]})})]})]})};export{z as default};
